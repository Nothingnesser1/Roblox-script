game.Loaded:Wait()  
getgenv()._a=nil  
getgenv()._c=nil  
local _p = game:GetService("Players")  
local _lp = _p.LocalPlayer  
local _cb = _lp.PlayerGui:WaitForChild("Chat"):WaitForChild("Frame").ChatBarParentFrame.Frame.BoxFrame.Frame.ChatBar  
local _cm = _lp.PlayerScripts:WaitForChild("ChatScript"):WaitForChild("ChatMain")  
local _me  
local _sr = game:GetService("ReplicatedStorage").DefaultChatSystemChatEvents.SayMessageRequest  
local _sg = game:GetService("StarterGui")  
  
for _, _o in next, getgc(true) do  
    if type(_o) ~= "table" then continue end  
    local _mp = rawget(_o, "MessagePosted")  
    if not _mp then continue end  
    local _f = rawget(_mp, "fire")  
    if not _f then continue end  
    local _fs = getfenv(_f).script  
    if _fs ~= _cm then continue end  
    for _, _e in next, debug.getupvalues(_f) do  
        if typeof(_e) == "Instance" then  
            _me = _e  
        end  
    end  
end  
  
local _h1  
_h1 = hookmetamethod(game,"__namecall",newcclosure(function(_s,...)  
    local _m = getnamecallmethod()  
    if not checkcaller() then  
        if _m == "FireServer" and _s == _sr and tostring(getcallingscript()) ~= "ChatMain" then  
            warn("[!] Chat blocked")  
            return  
        elseif _m == "CaptureFocus" and _s == _cb then  
            warn("[!] Focus blocked")  
            if tostring(getcallingscript()) ~= "ChatScript" then  
                if getgenv()._a == nil then   
                    setclipboard(getcallingscript().GetFullName(getcallingscript()))  
                    _sg:SetCore("SendNotification",{  
                        Title="Path Copied",  
                        Text="Script: "..getcallingscript().GetFullName(getcallingscript()),  
                        Button1="OK",  
                        Duration=10})  
                    getgenv()._a="e"  
                end  
            end  
            return  
        elseif _m == "ReportAbuse" and _s == _p then  
            warn("[!] Report blocked")  
            return error("blocked")  
        elseif _m == "Fire" and _s == _me then  
            warn("[!] Message blocked")  
            return  
        end  
    end  
    return _h1(_s,...)  
end))  
  
local _h2  
_h2 = hookmetamethod(game,"__index",newcclosure(function(_s,_b,...)  
    if not checkcaller() then  
        if _b == "FireServer" and _s == _sr and tostring(getcallingscript()) ~= "ChatMain" then  
            warn("[!] Chat blocked")  
            return  
        elseif _b == "CaptureFocus" and _s == "ChatBar" then  
            warn("[!] Focus blocked")  
            if tostring(getcallingscript()) ~= "ChatScript" then  
                if _c == nil then   
                    setclipboard(getcallingscript():GetFullName())  
                    _sg:SetCore("SendNotification",{  
                        Title="Path Copied",  
                        Text="Script: "..getcallingscript():GetFullName(),  
                        Button1="OK",  
                        Duration=10})  
                    _c="e"  
                end  
            end  
            return  
        elseif _b == "ReportAbuse" and _s == _p then  
            warn("[!] Report blocked")  
            return error("blocked")  
        elseif _b == "Fire" and _s == _me then  
            warn("[!] Message blocked")  
            return  
        end  
    end  
    return _h2(_s,_b,...)  
end))  
  
task.spawn(function()  
    while task.wait() do  
        if not _cb:IsFocused() and _cb.Text ~= "" then   
            _cb.Text = ""  
        end   
    end  
end)
